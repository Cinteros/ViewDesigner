using System.IO;using System.Runtime.Serialization.Json;

public class Serialization
{    public static string SerializeRequest<T>(object o)    {        using (var stream = new MemoryStream())        {            var serializer = new DataContractJsonSerializer(typeof(T));            serializer.WriteObject(stream, o);            stream.Position = 0;            var reader = new StreamReader(stream);            var json = reader.ReadToEnd();            return json;        }    }    public static T DeserializeResponse<T>(string json)    {        using (var stream = new MemoryStream())        {            var serializer = new DataContractJsonSerializer(typeof(T));            var writer = new StreamWriter(stream);            writer.Write(json);            writer.Flush();            stream.Position = 0;            var o = (T)serializer.ReadObject(stream);            return o;        }    }
}